
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Unified League of Legends API Gateway with caching, rate limiting, and comprehensive monitoring" name="description"/>
<link href="../monitoring/" rel="prev"/>
<link href="../security/" rel="next"/>
<link href="../../assets/logo.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.23" name="generator"/>
<title>Troubleshooting - LOLStonks API Gateway</title>
<link href="../../assets/stylesheets/main.84d31ad4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="blue" data-md-color-primary="blue" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#troubleshooting-guide">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="LOLStonks API Gateway" class="md-header__button md-logo" data-md-component="logo" href="../.." title="LOLStonks API Gateway">
<img alt="logo" src="../../assets/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            LOLStonks API Gateway
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Troubleshooting
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue" data-md-color-media="" data-md-color-primary="blue" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/OneStepAt4time/lolstonks-api-gateway" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../CHANGELOG.md">
        
  
  
    
  
  Changelog

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../getting-started/installation/">
          
  
  
    
  
  Getting Started

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../api/openapi-spec/">
          
  
  
    
  
  API Reference

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../architecture/overview/">
          
  
  
    
  
  Architecture

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../monitoring/">
          
  
  
    
  
  Operations

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../development/contributing/">
          
  
  
    
  
  Development

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="LOLStonks API Gateway" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="LOLStonks API Gateway">
<img alt="logo" src="../../assets/logo.png"/>
</a>
    LOLStonks API Gateway
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/OneStepAt4time/lolstonks-api-gateway" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../CHANGELOG.md">
<span class="md-ellipsis">
    Changelog
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    Getting Started
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/installation/">
<span class="md-ellipsis">
    Installation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/quick-start/">
<span class="md-ellipsis">
    Quick Start
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/configuration/">
<span class="md-ellipsis">
    Configuration
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../getting-started/deployment/">
<span class="md-ellipsis">
    Production Deployment
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    API Reference
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/openapi-spec/">
<span class="md-ellipsis">
    OpenAPI Specification
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/providers/">
<span class="md-ellipsis">
    Providers
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/riot-client/">
<span class="md-ellipsis">
    Riot Client
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/models/">
<span class="md-ellipsis">
    Models
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/routers/">
<span class="md-ellipsis">
    Routers
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/cache/">
<span class="md-ellipsis">
    Cache
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../api/security/">
<span class="md-ellipsis">
    Security
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    Architecture
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/overview/">
<span class="md-ellipsis">
    Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/diagram-guide.md">
<span class="md-ellipsis">
    Diagram Guide
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/system-overview.md">
<span class="md-ellipsis">
    System Overview
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/data-flow.md">
<span class="md-ellipsis">
    Data Flow
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/implementation-details/">
<span class="md-ellipsis">
    Implementation Details
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/models/">
<span class="md-ellipsis">
    Data Models
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
<span class="md-ellipsis">
    Operations
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            Operations
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../monitoring/">
<span class="md-ellipsis">
    Monitoring
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Troubleshooting
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Troubleshooting
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#table-of-contents">
<span class="md-ellipsis">
      Table of Contents
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-issues">
<span class="md-ellipsis">
      Service Issues
    </span>
</a>
<nav aria-label="Service Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#service-wont-start">
<span class="md-ellipsis">
      Service Won't Start
    </span>
</a>
<nav aria-label="Service Won't Start" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis-steps">
<span class="md-ellipsis">
      Diagnosis Steps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-causes-and-solutions">
<span class="md-ellipsis">
      Common Causes and Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-crashes-or-restarts">
<span class="md-ellipsis">
      Service Crashes or Restarts
    </span>
</a>
<nav aria-label="Service Crashes or Restarts" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_1">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-problems">
<span class="md-ellipsis">
      Performance Problems
    </span>
</a>
<nav aria-label="Performance Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#slow-response-times">
<span class="md-ellipsis">
      Slow Response Times
    </span>
</a>
<nav aria-label="Slow Response Times" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_2">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_1">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-causes-and-solutions_1">
<span class="md-ellipsis">
      Common Causes and Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#high-error-rates">
<span class="md-ellipsis">
      High Error Rates
    </span>
</a>
<nav aria-label="High Error Rates" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_3">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_2">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_1">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cache-and-redis-issues">
<span class="md-ellipsis">
      Cache and Redis Issues
    </span>
</a>
<nav aria-label="Cache and Redis Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cache-misses-or-invalidation">
<span class="md-ellipsis">
      Cache Misses or Invalidation
    </span>
</a>
<nav aria-label="Cache Misses or Invalidation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_4">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_3">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_2">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#redis-memory-issues">
<span class="md-ellipsis">
      Redis Memory Issues
    </span>
</a>
<nav aria-label="Redis Memory Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_5">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_4">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_3">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-and-rate-limiting-issues">
<span class="md-ellipsis">
      API and Rate Limiting Issues
    </span>
</a>
<nav aria-label="API and Rate Limiting Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#rate-limiting-problems">
<span class="md-ellipsis">
      Rate Limiting Problems
    </span>
</a>
<nav aria-label="Rate Limiting Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_6">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_5">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_4">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#invalid-api-responses">
<span class="md-ellipsis">
      Invalid API Responses
    </span>
</a>
<nav aria-label="Invalid API Responses" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_7">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_6">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_5">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#network-and-connectivity-issues">
<span class="md-ellipsis">
      Network and Connectivity Issues
    </span>
</a>
<nav aria-label="Network and Connectivity Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dns-resolution-problems">
<span class="md-ellipsis">
      DNS Resolution Problems
    </span>
</a>
<nav aria-label="DNS Resolution Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_8">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_7">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_6">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ssltls-issues">
<span class="md-ellipsis">
      SSL/TLS Issues
    </span>
</a>
<nav aria-label="SSL/TLS Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_9">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_8">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_7">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-issues">
<span class="md-ellipsis">
      Configuration Issues
    </span>
</a>
<nav aria-label="Configuration Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-variable-problems">
<span class="md-ellipsis">
      Environment Variable Problems
    </span>
</a>
<nav aria-label="Environment Variable Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_10">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_9">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_8">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permissions-issues">
<span class="md-ellipsis">
      Permissions Issues
    </span>
</a>
<nav aria-label="Permissions Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_11">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_10">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_9">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#monitoring-and-debugging">
<span class="md-ellipsis">
      Monitoring and Debugging
    </span>
</a>
<nav aria-label="Monitoring and Debugging" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check-script">
<span class="md-ellipsis">
      Health Check Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#log-analysis-script">
<span class="md-ellipsis">
      Log Analysis Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-monitoring">
<span class="md-ellipsis">
      Performance Monitoring
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../security/">
<span class="md-ellipsis">
    Security
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle md-toggle--indeterminate" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Development
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Development
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/contributing/">
<span class="md-ellipsis">
    Contributing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/changelog-guide/">
<span class="md-ellipsis">
    Changelog Guide
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/versioning/">
<span class="md-ellipsis">
    Versioning
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/releases/">
<span class="md-ellipsis">
    Releases
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/testing/">
<span class="md-ellipsis">
    Testing
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../development/documentation/">
<span class="md-ellipsis">
    Documentation
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#table-of-contents">
<span class="md-ellipsis">
      Table of Contents
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-issues">
<span class="md-ellipsis">
      Service Issues
    </span>
</a>
<nav aria-label="Service Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#service-wont-start">
<span class="md-ellipsis">
      Service Won't Start
    </span>
</a>
<nav aria-label="Service Won't Start" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis-steps">
<span class="md-ellipsis">
      Diagnosis Steps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-causes-and-solutions">
<span class="md-ellipsis">
      Common Causes and Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#service-crashes-or-restarts">
<span class="md-ellipsis">
      Service Crashes or Restarts
    </span>
</a>
<nav aria-label="Service Crashes or Restarts" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_1">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-problems">
<span class="md-ellipsis">
      Performance Problems
    </span>
</a>
<nav aria-label="Performance Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#slow-response-times">
<span class="md-ellipsis">
      Slow Response Times
    </span>
</a>
<nav aria-label="Slow Response Times" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_2">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_1">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-causes-and-solutions_1">
<span class="md-ellipsis">
      Common Causes and Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#high-error-rates">
<span class="md-ellipsis">
      High Error Rates
    </span>
</a>
<nav aria-label="High Error Rates" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_3">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_2">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_1">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#cache-and-redis-issues">
<span class="md-ellipsis">
      Cache and Redis Issues
    </span>
</a>
<nav aria-label="Cache and Redis Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cache-misses-or-invalidation">
<span class="md-ellipsis">
      Cache Misses or Invalidation
    </span>
</a>
<nav aria-label="Cache Misses or Invalidation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_4">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_3">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_2">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#redis-memory-issues">
<span class="md-ellipsis">
      Redis Memory Issues
    </span>
</a>
<nav aria-label="Redis Memory Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_5">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_4">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_3">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#api-and-rate-limiting-issues">
<span class="md-ellipsis">
      API and Rate Limiting Issues
    </span>
</a>
<nav aria-label="API and Rate Limiting Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#rate-limiting-problems">
<span class="md-ellipsis">
      Rate Limiting Problems
    </span>
</a>
<nav aria-label="Rate Limiting Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_6">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_5">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_4">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#invalid-api-responses">
<span class="md-ellipsis">
      Invalid API Responses
    </span>
</a>
<nav aria-label="Invalid API Responses" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_7">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_6">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_5">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#network-and-connectivity-issues">
<span class="md-ellipsis">
      Network and Connectivity Issues
    </span>
</a>
<nav aria-label="Network and Connectivity Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#dns-resolution-problems">
<span class="md-ellipsis">
      DNS Resolution Problems
    </span>
</a>
<nav aria-label="DNS Resolution Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_8">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_7">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_6">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ssltls-issues">
<span class="md-ellipsis">
      SSL/TLS Issues
    </span>
</a>
<nav aria-label="SSL/TLS Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_9">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_8">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_7">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration-issues">
<span class="md-ellipsis">
      Configuration Issues
    </span>
</a>
<nav aria-label="Configuration Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#environment-variable-problems">
<span class="md-ellipsis">
      Environment Variable Problems
    </span>
</a>
<nav aria-label="Environment Variable Problems" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_10">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_9">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_8">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permissions-issues">
<span class="md-ellipsis">
      Permissions Issues
    </span>
</a>
<nav aria-label="Permissions Issues" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#symptoms_11">
<span class="md-ellipsis">
      Symptoms
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#diagnosis_10">
<span class="md-ellipsis">
      Diagnosis
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#solutions_9">
<span class="md-ellipsis">
      Solutions
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#monitoring-and-debugging">
<span class="md-ellipsis">
      Monitoring and Debugging
    </span>
</a>
<nav aria-label="Monitoring and Debugging" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#health-check-script">
<span class="md-ellipsis">
      Health Check Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#log-analysis-script">
<span class="md-ellipsis">
      Log Analysis Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-monitoring">
<span class="md-ellipsis">
      Performance Monitoring
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="troubleshooting-guide">Troubleshooting Guide<a class="headerlink" href="#troubleshooting-guide" title="Permanent link">¶</a></h1>
<p>This comprehensive troubleshooting guide helps diagnose and resolve common issues with the LOLStonks API Gateway.</p>
<h2 id="table-of-contents">Table of Contents<a class="headerlink" href="#table-of-contents" title="Permanent link">¶</a></h2>
<ul>
<li><a href="#service-issues">Service Issues</a></li>
<li><a href="#performance-problems">Performance Problems</a></li>
<li><a href="#cache-and-redis-issues">Cache and Redis Issues</a></li>
<li><a href="#api-and-rate-limiting-issues">API and Rate Limiting Issues</a></li>
<li><a href="#network-and-connectivity-issues">Network and Connectivity Issues</a></li>
<li><a href="#configuration-issues">Configuration Issues</a></li>
<li><a href="#monitoring-and-debugging">Monitoring and Debugging</a></li>
</ul>
<h2 id="service-issues">Service Issues<a class="headerlink" href="#service-issues" title="Permanent link">¶</a></h2>
<h3 id="service-wont-start">Service Won't Start<a class="headerlink" href="#service-wont-start" title="Permanent link">¶</a></h3>
<h4 id="symptoms">Symptoms<a class="headerlink" href="#symptoms" title="Permanent link">¶</a></h4>
<ul>
<li>Service fails to start or crashes immediately</li>
<li><code>systemctl status lolstonks-api.service</code> shows failed state</li>
<li>No response from health endpoint</li>
</ul>
<h4 id="diagnosis-steps">Diagnosis Steps<a class="headerlink" href="#diagnosis-steps" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Check Service Status</strong></li>
</ol>
<pre><code class="language-bash">sudo systemctl status lolstonks-api.service
</code></pre>
<ol>
<li><strong>View Service Logs</strong></li>
</ol>
<pre><code class="language-bash"># View recent logs
sudo journalctl -u lolstonks-api.service -n 50

# Follow logs in real-time
sudo journalctl -u lolstonks-api.service -f
</code></pre>
<ol>
<li><strong>Check Configuration</strong></li>
</ol>
<pre><code class="language-bash"># Verify environment file exists and is readable
sudo -u lolstonks cat /home/lolstonks/lolstonks-api-gateway/.env

# Test configuration manually
sudo -u lolstonks cd /home/lolstonks/lolstonks-api-gateway
sudo -u lolstonks uv run python -c "from app.config import settings; print(settings.dict())"
</code></pre>
<h4 id="common-causes-and-solutions">Common Causes and Solutions<a class="headerlink" href="#common-causes-and-solutions" title="Permanent link">¶</a></h4>
<p><strong>Missing Dependencies</strong></p>
<pre><code class="language-bash"># Reinstall dependencies
sudo -u lolstonks cd /home/lolstonks/lolstonks-api-gateway
sudo -u lolstonks uv pip install -e ".[docs]"
</code></pre>
<p><strong>Permission Issues</strong></p>
<pre><code class="language-bash"># Fix ownership
sudo chown -R lolstonks:lolstonks /home/lolstonks/lolstonks-api-gateway

# Fix permissions
sudo chmod +x /home/lolstonks/lolstonks-api-gateway/scripts/*.py
</code></pre>
<p><strong>Port Already in Use</strong></p>
<pre><code class="language-bash"># Check what's using the port
sudo netstat -tulpn | grep :8080

# Kill the process using the port
sudo kill -9 &lt;PID&gt;
</code></pre>
<p><strong>Invalid Configuration</strong></p>
<pre><code class="language-bash"># Validate environment variables
sudo -u lolstonks bash -c 'source .env &amp;&amp; echo "Configuration valid"'
</code></pre>
<h3 id="service-crashes-or-restarts">Service Crashes or Restarts<a class="headerlink" href="#service-crashes-or-restarts" title="Permanent link">¶</a></h3>
<h4 id="symptoms_1">Symptoms<a class="headerlink" href="#symptoms_1" title="Permanent link">¶</a></h4>
<ul>
<li>Service runs for a while then crashes</li>
<li>Frequent automatic restarts</li>
<li>Out of memory errors</li>
</ul>
<h4 id="diagnosis">Diagnosis<a class="headerlink" href="#diagnosis" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Check Memory Usage</strong></li>
</ol>
<pre><code class="language-bash"># Monitor memory usage
htop

# Check OOM killer logs
sudo dmesg | grep -i "killed process"
</code></pre>
<ol>
<li><strong>Check for Memory Leaks</strong></li>
</ol>
<pre><code class="language-bash"># Monitor over time
while true; do
    echo "$(date): $(ps -o pid,ppid,cmd,%mem,%cpu -p $(pgrep -f uvicorn))"
    sleep 30
done
</code></pre>
<h4 id="solutions">Solutions<a class="headerlink" href="#solutions" title="Permanent link">¶</a></h4>
<p><strong>Increase Memory Limits</strong></p>
<pre><code class="language-bash"># Edit service file to increase memory limits
sudo nano /etc/systemd/system/lolstonks-api.service
# Add:
# MemoryLimit=2G
# MemorySwap=2G
</code></pre>
<p><strong>Optimize Configuration</strong></p>
<pre><code class="language-env"># In .env file
UVICORN_WORKERS=2  # Reduce worker count
CACHE_SIZE_LIMIT=1000000  # Reduce cache size
</code></pre>
<h2 id="performance-problems">Performance Problems<a class="headerlink" href="#performance-problems" title="Permanent link">¶</a></h2>
<h3 id="slow-response-times">Slow Response Times<a class="headerlink" href="#slow-response-times" title="Permanent link">¶</a></h3>
<h4 id="symptoms_2">Symptoms<a class="headerlink" href="#symptoms_2" title="Permanent link">¶</a></h4>
<ul>
<li>API responses taking &gt;5 seconds</li>
<li>Timeouts from client applications</li>
<li>High latency on specific endpoints</li>
</ul>
<h4 id="diagnosis_1">Diagnosis<a class="headerlink" href="#diagnosis_1" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Benchmark Response Times</strong></li>
</ol>
<pre><code class="language-bash"># Test response time
curl -w "@curl-format.txt" -o /dev/null -s http://localhost:8080/health

# Create curl-format.txt:
#      time_namelookup:  %{time_namelookup}\n
#         time_connect:  %{time_connect}\n
#      time_appconnect:  %{time_appconnect}\n
#     time_pretransfer:  %{time_pretransfer}\n
#        time_redirect:  %{time_redirect}\n
#   time_starttransfer:  %{time_starttransfer}\n
#                      ----------\n
#           time_total:  %{time_total}\n
</code></pre>
<ol>
<li><strong>Profile the Application</strong></li>
</ol>
<pre><code class="language-bash"># Install profiling tools
uv pip install py-spy

# Profile CPU usage
sudo py-spy top --pid $(pgrep -f uvicorn)

# Generate flame graph
sudo py-spy record --pid $(pgrep -f uvicorn) -o profile.svg --duration 60
</code></pre>
<ol>
<li><strong>Check Resource Utilization</strong></li>
</ol>
<pre><code class="language-bash"># CPU and memory
top
htop

# Disk I/O
iostat -x 1

# Network I/O
iftop
</code></pre>
<h4 id="common-causes-and-solutions_1">Common Causes and Solutions<a class="headerlink" href="#common-causes-and-solutions_1" title="Permanent link">¶</a></h4>
<p><strong>High CPU Usage</strong>
- <strong>Cause</strong>: Too many concurrent requests, inefficient code
- <strong>Solution</strong>:
  - Reduce worker count: <code>UVICORN_WORKERS=2</code>
  - Implement caching: Increase cache TTL
  - Optimize database queries</p>
<p><strong>High Memory Usage</strong>
- <strong>Cause</strong>: Memory leaks, large cache sizes
- <strong>Solution</strong>:
  - Reduce cache size: <code>CACHE_SIZE_LIMIT=500000</code>
  - Restart service periodically
  - Profile memory usage</p>
<p><strong>Network Latency</strong>
- <strong>Cause</strong>: Slow network to Riot API, DNS resolution issues
- <strong>Solution</strong>:
  - Use faster DNS servers: 8.8.8.8, 1.1.1.1
  - Consider CDN or regional deployment
  - Implement connection pooling</p>
<h3 id="high-error-rates">High Error Rates<a class="headerlink" href="#high-error-rates" title="Permanent link">¶</a></h3>
<h4 id="symptoms_3">Symptoms<a class="headerlink" href="#symptoms_3" title="Permanent link">¶</a></h4>
<ul>
<li>5xx errors increasing</li>
<li>429 rate limit errors</li>
<li>Timeouts from Riot API</li>
</ul>
<h4 id="diagnosis_2">Diagnosis<a class="headerlink" href="#diagnosis_2" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Check Error Logs</strong></li>
</ol>
<pre><code class="language-bash"># Filter for errors
sudo journalctl -u lolstonks-api.service | grep -i error

# Check specific error types
sudo journalctl -u lolstonks-api.service | grep "429\|500\|502\|503"
</code></pre>
<ol>
<li><strong>Monitor Riot API Status</strong></li>
</ol>
<pre><code class="language-bash"># Test Riot API directly
curl -H "X-Riot-Token: YOUR_API_KEY" \
     https://euw1.api.riotgames.com/lol/status/v4/platform-data

# Check status page
curl https://status.riotgames.com/
</code></pre>
<h4 id="solutions_1">Solutions<a class="headerlink" href="#solutions_1" title="Permanent link">¶</a></h4>
<p><strong>Rate Limiting (429 Errors)</strong></p>
<pre><code class="language-env"># Reduce rate limits in .env
RIOT_RATE_LIMIT_PER_SECOND=15  # Reduce from 20
RIOT_RATE_LIMIT_PER_2MIN=80    # Reduce from 100
</code></pre>
<p><strong>Riot API Outages</strong>
- <strong>Solution</strong>: Monitor Riot API status, implement circuit breakers
- <strong>Monitoring</strong>: Set up alerts for API status changes</p>
<p><strong>Timeout Errors</strong></p>
<pre><code class="language-env"># Increase timeouts in .env
RIOT_REQUEST_TIMEOUT=30
RIOT_MAX_RETRIES=5
</code></pre>
<h2 id="cache-and-redis-issues">Cache and Redis Issues<a class="headerlink" href="#cache-and-redis-issues" title="Permanent link">¶</a></h2>
<h3 id="cache-misses-or-invalidation">Cache Misses or Invalidation<a class="headerlink" href="#cache-misses-or-invalidation" title="Permanent link">¶</a></h3>
<h4 id="symptoms_4">Symptoms<a class="headerlink" href="#symptoms_4" title="Permanent link">¶</a></h4>
<ul>
<li>High rate of API calls to Riot servers</li>
<li>Inconsistent data responses</li>
<li>Poor performance</li>
</ul>
<h4 id="diagnosis_3">Diagnosis<a class="headerlink" href="#diagnosis_3" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Check Redis Status</strong></li>
</ol>
<pre><code class="language-bash"># Test Redis connection
redis-cli -a YOUR_PASSWORD ping

# Check memory usage
redis-cli -a YOUR_PASSWORD info memory

# Check hit rate
redis-cli -a YOUR_PASSWORD info stats | grep keyspace
</code></pre>
<ol>
<li><strong>Monitor Cache Performance</strong></li>
</ol>
<pre><code class="language-bash"># Check cache keys
redis-cli -a YOUR_PASSWORD keys "lolstonks:*" | wc -l

# Monitor cache operations
redis-cli -a YOUR_PASSWORD monitor
</code></pre>
<h4 id="solutions_2">Solutions<a class="headerlink" href="#solutions_2" title="Permanent link">¶</a></h4>
<p><strong>Redis Connection Issues</strong></p>
<pre><code class="language-bash"># Check Redis service
sudo systemctl status redis-server

# Restart Redis if needed
sudo systemctl restart redis-server

# Check Redis configuration
sudo redis-cli -a YOUR_PASSWORD config get "*"
</code></pre>
<p><strong>Cache Eviction</strong></p>
<pre><code class="language-env"># Increase Redis memory limit
# In redis.conf:
maxmemory 4gb
maxmemory-policy allkeys-lru
</code></pre>
<p><strong>Invalid Cache Keys</strong></p>
<pre><code class="language-bash"># Clear corrupted cache
redis-cli -a YOUR_PASSWORD flushdb

# Restart application to rebuild cache
sudo systemctl restart lolstonks-api.service
</code></pre>
<h3 id="redis-memory-issues">Redis Memory Issues<a class="headerlink" href="#redis-memory-issues" title="Permanent link">¶</a></h3>
<h4 id="symptoms_5">Symptoms<a class="headerlink" href="#symptoms_5" title="Permanent link">¶</a></h4>
<ul>
<li>Redis using excessive memory</li>
<li>Out of memory errors</li>
<li>Slow Redis operations</li>
</ul>
<h4 id="diagnosis_4">Diagnosis<a class="headerlink" href="#diagnosis_4" title="Permanent link">¶</a></h4>
<pre><code class="language-bash"># Check Redis memory usage
redis-cli -a YOUR_PASSWORD info memory | grep used_memory_human

# Check largest keys
redis-cli -a YOUR_PASSWORD --bigkeys

# Monitor memory usage over time
watch -n 1 'redis-cli -a YOUR_PASSWORD info memory | grep used_memory_human'
</code></pre>
<h4 id="solutions_3">Solutions<a class="headerlink" href="#solutions_3" title="Permanent link">¶</a></h4>
<p><strong>Memory Optimization</strong></p>
<pre><code class="language-conf"># In redis.conf
maxmemory 2gb
maxmemory-policy allkeys-lru
</code></pre>
<p><strong>Key Expiration</strong></p>
<pre><code class="language-bash"># Set TTL on existing keys
redis-cli -a YOUR_PASSWORD --eval - &lt;&lt;EOF
for _, key in ipairs(redis.call('keys', 'lolstonks:*')) do
  redis.call('expire', key, 3600)
end
EOF
</code></pre>
<h2 id="api-and-rate-limiting-issues">API and Rate Limiting Issues<a class="headerlink" href="#api-and-rate-limiting-issues" title="Permanent link">¶</a></h2>
<h3 id="rate-limiting-problems">Rate Limiting Problems<a class="headerlink" href="#rate-limiting-problems" title="Permanent link">¶</a></h3>
<h4 id="symptoms_6">Symptoms<a class="headerlink" href="#symptoms_6" title="Permanent link">¶</a></h4>
<ul>
<li>429 errors from Riot API</li>
<li>Requests being throttled</li>
<li>Poor user experience</li>
</ul>
<h4 id="diagnosis_5">Diagnosis<a class="headerlink" href="#diagnosis_5" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Check Current Rate Limits</strong></li>
</ol>
<pre><code class="language-bash"># Monitor rate limiting in logs
sudo journalctl -u lolstonks-api.service | grep -i "rate.*limit"

# Check API usage dashboard on Riot Developer Portal
</code></pre>
<ol>
<li><strong>Test Rate Limiting</strong></li>
</ol>
<pre><code class="language-bash"># Quick test script
for i in {1..25}; do
  curl -s -o /dev/null -w "%{http_code}\n" http://localhost:8080/health
  sleep 0.1
done
</code></pre>
<h4 id="solutions_4">Solutions<a class="headerlink" href="#solutions_4" title="Permanent link">¶</a></h4>
<p><strong>Adjust Rate Limits</strong></p>
<pre><code class="language-env"># Conservative rate limits
RIOT_RATE_LIMIT_PER_SECOND=10
RIOT_RATE_LIMIT_PER_2MIN=80
</code></pre>
<p><strong>Implement Request Batching</strong></p>
<pre><code class="language-python"># Batch multiple requests into single API calls
# This reduces overall API usage
</code></pre>
<p><strong>Add Request Queuing</strong></p>
<pre><code class="language-python"># Implement request queue for high-traffic periods
</code></pre>
<h3 id="invalid-api-responses">Invalid API Responses<a class="headerlink" href="#invalid-api-responses" title="Permanent link">¶</a></h3>
<h4 id="symptoms_7">Symptoms<a class="headerlink" href="#symptoms_7" title="Permanent link">¶</a></h4>
<ul>
<li>Corrupted or incomplete data</li>
<li>Invalid JSON responses</li>
<li>Missing fields in API responses</li>
</ul>
<h4 id="diagnosis_6">Diagnosis<a class="headerlink" href="#diagnosis_6" title="Permanent link">¶</a></h4>
<ol>
<li><strong>Validate API Response</strong></li>
</ol>
<pre><code class="language-bash"># Test specific endpoint
curl -s http://localhost:8080/summoner/by-name/test?region=euw1 | jq .

# Check response headers
curl -I http://localhost:8080/summoner/by-name/test?region=euw1
</code></pre>
<ol>
<li><strong>Check Data Validation</strong></li>
</ol>
<pre><code class="language-bash"># Test with invalid data
curl -s http://localhost:8080/summoner/by-name/invalid@name?region=euw1
</code></pre>
<h4 id="solutions_5">Solutions<a class="headerlink" href="#solutions_5" title="Permanent link">¶</a></h4>
<p><strong>Update Pydantic Models</strong>
- <strong>Cause</strong>: Riot API changed response format
- <strong>Solution</strong>: Update models in <code>app/models/</code> to match new format</p>
<p><strong>Implement Data Sanitization</strong></p>
<pre><code class="language-python"># Add data cleaning in API routers
def clean_summoner_data(data):
    # Remove or fix invalid fields
    return cleaned_data
</code></pre>
<h2 id="network-and-connectivity-issues">Network and Connectivity Issues<a class="headerlink" href="#network-and-connectivity-issues" title="Permanent link">¶</a></h2>
<h3 id="dns-resolution-problems">DNS Resolution Problems<a class="headerlink" href="#dns-resolution-problems" title="Permanent link">¶</a></h3>
<h4 id="symptoms_8">Symptoms<a class="headerlink" href="#symptoms_8" title="Permanent link">¶</a></h4>
<ul>
<li>Slow startup times</li>
<li>Intermittent connection failures</li>
<li>DNS timeout errors</li>
</ul>
<h4 id="diagnosis_7">Diagnosis<a class="headerlink" href="#diagnosis_7" title="Permanent link">¶</a></h4>
<pre><code class="language-bash"># Test DNS resolution
nslookup euw1.api.riotgames.com
dig euw1.api.riotgames.com

# Test with different DNS servers
nslookup euw1.api.riotgames.com 8.8.8.8
nslookup euw1.api.riotgames.com 1.1.1.1
</code></pre>
<h4 id="solutions_6">Solutions<a class="headerlink" href="#solutions_6" title="Permanent link">¶</a></h4>
<p><strong>Use Reliable DNS Servers</strong></p>
<pre><code class="language-bash"># Edit /etc/resolv.conf
nameserver 8.8.8.8
nameserver 1.1.1.1
nameserver 208.67.222.222
</code></pre>
<p><strong>Implement DNS Caching</strong></p>
<pre><code class="language-bash"># Install dnsmasq for local DNS caching
sudo apt install dnsmasq
sudo systemctl enable dnsmasq
sudo systemctl start dnsmasq
</code></pre>
<h3 id="ssltls-issues">SSL/TLS Issues<a class="headerlink" href="#ssltls-issues" title="Permanent link">¶</a></h3>
<h4 id="symptoms_9">Symptoms<a class="headerlink" href="#symptoms_9" title="Permanent link">¶</a></h4>
<ul>
<li>Certificate errors</li>
<li>SSL handshake failures</li>
<li>HTTPS connection issues</li>
</ul>
<h4 id="diagnosis_8">Diagnosis<a class="headerlink" href="#diagnosis_8" title="Permanent link">¶</a></h4>
<pre><code class="language-bash"># Test SSL connection
openssl s_client -connect euw1.api.riotgames.com:443

# Check certificate validity
curl -v https://euw1.api.riotgames.com/lol/status/v4/platform-data
</code></pre>
<h4 id="solutions_7">Solutions<a class="headerlink" href="#solutions_7" title="Permanent link">¶</a></h4>
<p><strong>Update CA Certificates</strong></p>
<pre><code class="language-bash">sudo apt update &amp;&amp; sudo apt install ca-certificates
</code></pre>
<p><strong>Configure SSL Properly</strong></p>
<pre><code class="language-bash"># Ensure system time is correct
sudo timedatectl set-ntp true

# Update SSL libraries
sudo apt install openssl libssl-dev
</code></pre>
<h2 id="configuration-issues">Configuration Issues<a class="headerlink" href="#configuration-issues" title="Permanent link">¶</a></h2>
<h3 id="environment-variable-problems">Environment Variable Problems<a class="headerlink" href="#environment-variable-problems" title="Permanent link">¶</a></h3>
<h4 id="symptoms_10">Symptoms<a class="headerlink" href="#symptoms_10" title="Permanent link">¶</a></h4>
<ul>
<li>Service won't start</li>
<li>Invalid configuration values</li>
<li>Runtime errors</li>
</ul>
<h4 id="diagnosis_9">Diagnosis<a class="headerlink" href="#diagnosis_9" title="Permanent link">¶</a></h4>
<pre><code class="language-bash"># Check environment file syntax
cat .env | bash -n

# Test configuration loading
sudo -u lolstonks bash -c 'source .env &amp;&amp; env | grep RIOT'

# Validate required variables
grep -E "^(RIOT_API_KEY|REDIS_HOST)" .env
</code></pre>
<h4 id="solutions_8">Solutions<a class="headerlink" href="#solutions_8" title="Permanent link">¶</a></h4>
<p><strong>Fix Environment File</strong></p>
<pre><code class="language-bash"># Backup and recreate
cp .env .env.backup
nano .env

# Ensure proper format:
# KEY=value
# No quotes around values unless needed
</code></pre>
<p><strong>Missing Required Variables</strong></p>
<pre><code class="language-bash"># Add missing variables to .env
echo "RIOT_API_KEY=RGAPI-your-key-here" &gt;&gt; .env
echo "REDIS_HOST=localhost" &gt;&gt; .env
</code></pre>
<h3 id="permissions-issues">Permissions Issues<a class="headerlink" href="#permissions-issues" title="Permanent link">¶</a></h3>
<h4 id="symptoms_11">Symptoms<a class="headerlink" href="#symptoms_11" title="Permanent link">¶</a></h4>
<ul>
<li>Permission denied errors</li>
<li>File access issues</li>
<li>Service startup failures</li>
</ul>
<h4 id="diagnosis_10">Diagnosis<a class="headerlink" href="#diagnosis_10" title="Permanent link">¶</a></h4>
<pre><code class="language-bash"># Check file permissions
ls -la /home/lolstonks/lolstonks-api-gateway/

# Check user permissions
sudo -u lolstonks whoami
sudo -u lolstonks ls -la

# Check systemd service user
grep "User\|Group" /etc/systemd/system/lolstonks-api.service
</code></pre>
<h4 id="solutions_9">Solutions<a class="headerlink" href="#solutions_9" title="Permanent link">¶</a></h4>
<p><strong>Fix Ownership</strong></p>
<pre><code class="language-bash"># Set correct ownership
sudo chown -R lolstonks:lolstonks /home/lolstonks/lolstonks-api-gateway
</code></pre>
<p><strong>Fix Permissions</strong></p>
<pre><code class="language-bash"># Set appropriate permissions
sudo chmod 755 /home/lolstonks/lolstonks-api-gateway
sudo chmod 644 /home/lolstonks/lolstonks-api-gateway/.env
sudo chmod +x /home/lolstonks/lolstonks-api-gateway/scripts/*.py
</code></pre>
<h2 id="monitoring-and-debugging">Monitoring and Debugging<a class="headerlink" href="#monitoring-and-debugging" title="Permanent link">¶</a></h2>
<h3 id="health-check-script">Health Check Script<a class="headerlink" href="#health-check-script" title="Permanent link">¶</a></h3>
<p>Create a comprehensive health monitoring script:</p>
<pre><code class="language-bash">#!/bin/bash
# health_check.sh

API_URL="http://127.0.0.1:8080/health"
REDIS_CLI="redis-cli -a YOUR_PASSWORD"
LOG_FILE="/var/log/lolstonks/health_check.log"

# Function to log with timestamp
log() {
    echo "$(date '+%Y-%m-%d %H:%M:%S') - $1" | tee -a "$LOG_FILE"
}

# Check API health
check_api() {
    local response=$(curl -s -o /dev/null -w "%{http_code}" "$API_URL")
    if [ "$response" != "200" ]; then
        log "API health check failed with status: $response"
        return 1
    fi
    return 0
}

# Check Redis health
check_redis() {
    local pong=$($REDIS_CLI ping 2&gt;/dev/null)
    if [ "$pong" != "PONG" ]; then
        log "Redis health check failed"
        return 1
    fi
    return 0
}

# Check system resources
check_resources() {
    local cpu_usage=$(top -bn1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1)
    local mem_usage=$(free | grep Mem | awk '{printf "%.1f", $3/$2 * 100.0}')

    if (( $(echo "$cpu_usage &gt; 80" | bc -l) )); then
        log "High CPU usage: ${cpu_usage}%"
    fi

    if (( $(echo "$mem_usage &gt; 80" | bc -l) )); then
        log "High memory usage: ${mem_usage}%"
    fi
}

# Main health check
main() {
    log "Starting health check"

    if ! check_api; then
        log "Restarting API service"
        sudo systemctl restart lolstonks-api.service
    fi

    if ! check_redis; then
        log "Restarting Redis service"
        sudo systemctl restart redis-server
    fi

    check_resources

    log "Health check completed"
}

main
</code></pre>
<h3 id="log-analysis-script">Log Analysis Script<a class="headerlink" href="#log-analysis-script" title="Permanent link">¶</a></h3>
<p>Create a log analysis script for troubleshooting:</p>
<pre><code class="language-bash">#!/bin/bash
# analyze_logs.sh

LOG_FILE="/var/log/lolstonks/api.log"
ERROR_PATTERN="(ERROR|CRITICAL|Exception|Traceback)"
WARNING_PATTERN="(WARNING|WARN)"

echo "=== Error Analysis ==="
grep -E "$ERROR_PATTERN" "$LOG_FILE" | tail -20

echo -e "\n=== Warning Analysis ==="
grep -E "$WARNING_PATTERN" "$LOG_FILE" | tail -20

echo -e "\n=== Response Time Analysis ==="
grep "response_time" "$LOG_FILE" | tail -20 | awk '{print $NF}' | sort -n

echo -e "\n=== Top Error Endpoints ==="
grep "ERROR" "$LOG_FILE" | awk '{print $6}' | sort | uniq -c | sort -nr | head -10
</code></pre>
<h3 id="performance-monitoring">Performance Monitoring<a class="headerlink" href="#performance-monitoring" title="Permanent link">¶</a></h3>
<p>Set up basic performance monitoring:</p>
<pre><code class="language-bash">#!/bin/bash
# monitor.sh

API_PID=$(pgrep -f uvicorn)

if [ -z "$API_PID" ]; then
    echo "API service not running"
    exit 1
fi

echo "=== CPU and Memory Usage ==="
ps -p "$API_PID" -o pid,ppid,cmd,%mem,%cpu

echo -e "\n=== File Descriptors ==="
lsof -p "$API_PID" | wc -l

echo -e "\n=== Network Connections ==="
netstat -p | grep "$API_PID" | wc -l

echo -e "\n=== Redis Memory Usage ==="
redis-cli -a YOUR_PASSWORD info memory | grep used_memory_human
</code></pre>
<p>This comprehensive troubleshooting guide should help diagnose and resolve most common issues with the LOLStonks API Gateway. For issues not covered here, check the service logs and consider reaching out to the development team.</p>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.indexes", "toc.follow", "search.suggest", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
<script>
        // Enhanced Mermaid Interactivity for LOLStonks Documentation
        (function() {
            'use strict';

            console.log('Initializing Mermaid interactivity...');

            // Wait for DOM to be ready and Mermaid diagrams to render
            const waitForMermaid = () => {
                const mermaidElements = document.querySelectorAll('.mermaid');
                console.log('Found Mermaid elements:', mermaidElements.length);

                if (mermaidElements.length === 0) {
                    console.log('No Mermaid elements found, retrying in 2 seconds...');
                    setTimeout(waitForMermaid, 2000);
                    return;
                }

                mermaidElements.forEach((element, index) => {
                    const id = element.id || 'mermaid-diagram-' + index;
                    element.setAttribute('id', id);

                    // Wait for the diagram to be rendered as SVG
                    const waitForSVG = () => {
                        const svg = element.querySelector('svg');
                        if (svg) {
                            console.log('SVG found for element:', id);
                            addInteractivityToDiagram(element, id);
                        } else {
                            console.log('SVG not found yet for element:', id, 'retrying...');
                            setTimeout(waitForSVG, 500);
                        }
                    };

                    waitForSVG();
                });
            };

            const addInteractivityToDiagram = (element, id) => {
                // Add interactive controls container
                if (!element.previousSibling) {
                    const controls = createInteractiveControls(id, element);
                    element.parentNode.insertBefore(controls, element);
                }

                // Add zoom controls
                addZoomControls(element, id);

                // Add click handlers
                addClickHandlers(element);

                // Add tooltips
                addTooltips(element);

                // Make responsive
                makeResponsive(element);

                // Add pan and zoom
                addPanAndZoom(element, id);
            };

            const createInteractiveControls = (id, element) => {
                const controls = document.createElement('div');
                controls.className = 'mermaid-controls';
                controls.style.cssText = `
                    margin: 10px 0;
                    padding: 10px;
                    background: #f5f5f5;
                    border-radius: 5px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    flex-wrap: wrap;
                    gap: 10px;
                    font-size: 14px;
                    font-family: Arial, sans-serif;
                `;

                // Zoom controls
                const zoomControls = document.createElement('div');
                zoomControls.innerHTML = `
                    <span style="font-weight: bold;">🔍 Zoom:</span>
                    <button onclick="zoomDiagram('${id}', 1.2)" style="margin: 0 2px; padding: 4px 8px; background: #1976d2; color: white; border: none; border-radius: 3px; cursor: pointer;">+</button>
                    <button onclick="zoomDiagram('${id}', 0.8)" style="margin: 0 2px; padding: 4px 8px; background: #1976d2; color: white; border: none; border-radius: 3px; cursor: pointer;">−</button>
                    <button onclick="resetZoom('${id}')" style="margin: 0 2px; padding: 4px 8px; background: #666; color: white; border: none; border-radius: 3px; cursor: pointer;">Reset</button>
                `;

                // Navigation info
                const navInfo = document.createElement('div');
                navInfo.innerHTML = `<span style="color: #666;">🖱️ Click nodes for details • Scroll to zoom • Drag to pan</span>`;

                // Fullscreen button
                const fullscreenBtn = document.createElement('button');
                fullscreenBtn.textContent = '⛶ Fullscreen';
                fullscreenBtn.style.cssText = `
                    padding: 4px 12px;
                    background: #388e3c;
                    color: white;
                    border: none;
                    border-radius: 3px;
                    cursor: pointer;
                `;
                fullscreenBtn.onclick = () => toggleFullscreen(id, element);

                // Download button
                const downloadBtn = document.createElement('button');
                downloadBtn.textContent = '📥 Download';
                downloadBtn.style.cssText = `
                    padding: 4px 12px;
                    background: #ff9800;
                    color: white;
                    border: none;
                    border-radius: 3px;
                    cursor: pointer;
                `;
                downloadBtn.onclick = () => downloadDiagram(id, element);

                controls.appendChild(zoomControls);
                controls.appendChild(navInfo);
                controls.appendChild(fullscreenBtn);
                controls.appendChild(downloadBtn);

                return controls;
            };

            const addZoomControls = (element, id) => {
                element.style.transform = 'scale(1)';
                element.style.transformOrigin = 'center top';
                element.style.transition = 'transform 0.3s ease';
                element.dataset.originalTransform = 'scale(1)';
                element.dataset.currentZoom = '1';
            };

            const addPanAndZoom = (element, id) => {
                const svg = element.querySelector('svg');
                if (!svg) return;

                let isPanning = false;
                let startX = 0, startY = 0, translateX = 0, translateY = 0;

                // Mouse wheel zoom
                element.addEventListener('wheel', function(e) {
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        const delta = e.deltaY > 0 ? 0.9 : 1.1;
                        zoomDiagram(id, delta);
                    }
                });

                // Pan functionality
                svg.style.cursor = 'grab';
                svg.addEventListener('mousedown', function(e) {
                    if (e.button === 0 && !e.shiftKey) {
                        isPanning = true;
                        startX = e.clientX - translateX;
                        startY = e.clientY - translateY;
                        svg.style.cursor = 'grabbing';
                        e.preventDefault();
                    }
                });

                document.addEventListener('mousemove', function(e) {
                    if (isPanning) {
                        translateX = e.clientX - startX;
                        translateY = e.clientY - startY;
                        const currentZoom = parseFloat(element.dataset.currentZoom || 1);
                        svg.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
                    }
                });

                document.addEventListener('mouseup', function() {
                    isPanning = false;
                    svg.style.cursor = 'grab';
                });

                // Touch support for mobile
                let touchStartDistance = 0;
                let touchStartZoom = 1;

                element.addEventListener('touchstart', function(e) {
                    if (e.touches.length === 2) {
                        const dx = e.touches[0].clientX - e.touches[1].clientX;
                        const dy = e.touches[0].clientY - e.touches[1].clientY;
                        touchStartDistance = Math.sqrt(dx * dx + dy * dy);
                        touchStartZoom = parseFloat(element.dataset.currentZoom || 1);
                    }
                });

                element.addEventListener('touchmove', function(e) {
                    if (e.touches.length === 2) {
                        const dx = e.touches[0].clientX - e.touches[1].clientX;
                        const dy = e.touches[0].clientY - e.touches[1].clientY;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const scale = Math.max(0.5, Math.min(3, touchStartZoom * (distance / touchStartDistance)));
                        element.dataset.currentZoom = scale;
                        const svg = element.querySelector('svg');
                        const currentZoom = parseFloat(element.dataset.currentZoom || 1);
                        svg.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentZoom})`;
                    }
                });
            };

            const addClickHandlers = (element) => {
                const svg = element.querySelector('svg');
                if (!svg) return;

                const clickableElements = svg.querySelectorAll('g.node, g.edgePath, .cluster');
                clickableElements.forEach(el => {
                    el.style.cursor = 'pointer';
                    el.addEventListener('click', function(e) {
                        if (!e.shiftKey && !e.ctrlKey) {
                            e.preventDefault();
                            showNodeDetails(el, element);
                        }
                    });
                });
            };

            const addTooltips = (element) => {
                const svg = element.querySelector('svg');
                if (!svg) return;

                const nodes = svg.querySelectorAll('g.node');
                nodes.forEach(node => {
                    const rect = node.querySelector('rect');
                    const text = node.querySelector('text');
                    if (rect && text) {
                        node.title = text.textContent + ' - Click for more information';

                        node.addEventListener('mouseenter', function() {
                            rect.style.filter = 'brightness(1.2)';
                            rect.style.transition = 'filter 0.2s ease';
                        });

                        node.addEventListener('mouseleave', function() {
                            rect.style.filter = 'brightness(1)';
                        });
                    }
                });
            };

            const makeResponsive = (element) => {
                const svg = element.querySelector('svg');
                if (!svg) return;

                svg.style.maxWidth = '100%';
                svg.style.height = 'auto';
                svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');

                const resizeObserver = new ResizeObserver(() => {
                    adjustDiagramSize(element);
                });
                resizeObserver.observe(element);
            };

            const adjustDiagramSize = (element) => {
                const svg = element.querySelector('svg');
                if (!svg) return;

                const container = element.parentElement;
                const containerWidth = container.clientWidth;

                if (containerWidth < 800) {
                    const mobileZoom = Math.max(0.5, containerWidth / 800);
                    element.dataset.currentZoom = mobileZoom;
                    const translateMatch = svg.style.transform.match(/translate\(([^)]+)px/);
                    const translate = translateMatch ? translateMatch[1] : '0px, 0px';
                    svg.style.transform = `translate(${translate}) scale(${mobileZoom})`;
                }
            };

            const showNodeDetails = (nodeElement, diagramElement) => {
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    z-index: 1000;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                `;

                const content = document.createElement('div');
                content.style.cssText = `
                    background: white;
                    padding: 20px;
                    border-radius: 8px;
                    max-width: 600px;
                    max-height: 80%;
                    overflow-y: auto;
                `;

                const text = nodeElement.querySelector('text');
                const title = text ? text.textContent : 'Node Details';

                content.innerHTML = `
                    <h3>${title}</h3>
                    <p><strong>Diagram:</strong> ${diagramElement.closest('h1, h2, h3, h4, h5, h6')?.textContent || 'Architecture Diagram'}</p>
                    <p><strong>Component Type:</strong> ${getNodeInfo(nodeElement).type}</p>
                    <p>${getNodeInfo(nodeElement).description}</p>
                    <button onclick="this.closest('div[style*=fixed]').remove()" style="
                        margin-top: 15px;
                        padding: 8px 16px;
                        background: #1976d2;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    ">Close</button>
                `;

                modal.appendChild(content);
                modal.appendChild(document.createElement('button'));
                modal.onclick = (e) => {
                    if (e.target === modal) modal.remove();
                };

                document.body.appendChild(modal);
            };

            const getNodeInfo = (nodeElement) => {
                const text = nodeElement.querySelector('text')?.textContent?.toLowerCase() || '';

                if (text.includes('api') || text.includes('gateway')) {
                    return {
                        type: 'API Component',
                        description: 'This component handles API requests, routing, and response processing in the LOLStonks Gateway.'
                    };
                } else if (text.includes('cache') || text.includes('redis')) {
                    return {
                        type: 'Cache Layer',
                        description: 'This component provides caching functionality to improve API response times and reduce external API calls.'
                    };
                } else if (text.includes('rate') || text.includes('limit')) {
                    return {
                        type: 'Rate Limiter',
                        description: 'This component enforces rate limits to prevent API abuse and ensure fair usage across all clients.'
                    };
                } else if (text.includes('auth') || text.includes('security')) {
                    return {
                        type: 'Security Component',
                        description: 'This component handles authentication, authorization, and security validation for API requests.'
                    };
                } else if (text.includes('provider') || text.includes('riot')) {
                    return {
                        type: 'External Provider',
                        description: 'This component interfaces with external APIs (like Riot Games API) to fetch game data.'
                    };
                } else {
                    return {
                        type: 'System Component',
                        description: 'This component is part of the LOLStonks API Gateway architecture. Click on different components to explore the system design.'
                    };
                }
            };

            // Global functions for button controls
            window.zoomDiagram = function(id, factor) {
                const element = document.getElementById(id);
                if (!element) return;

                const currentZoom = parseFloat(element.dataset.currentZoom || 1);
                const newZoom = Math.max(0.1, Math.min(3, currentZoom * factor));

                const svg = element.querySelector('svg');
                const currentTransform = svg.style.transform || '';
                const translateMatch = currentTransform.match(/translate\(([^)]+)px/);
                const translate = translateMatch ? translateMatch[1] : '0px, 0px';

                svg.style.transform = `translate(${translate}) scale(${newZoom})`;
                element.dataset.currentZoom = newZoom;
            };

            window.resetZoom = function(id) {
                const element = document.getElementById(id);
                if (!element) return;

                const svg = element.querySelector('svg');
                svg.style.transform = 'translate(0px, 0px) scale(1)';
                element.dataset.currentZoom = '1';
            };

            window.toggleFullscreen = function(id, element) {
                if (element.style.position === 'fixed') {
                    // Exit fullscreen
                    element.style.position = '';
                    element.style.top = '';
                    element.style.left = '';
                    element.style.width = '';
                    element.style.height = '';
                    element.style.zIndex = '';
                    element.style.backgroundColor = '';
                    element.style.padding = '';
                    element.style.overflow = '';
                    resetZoom(id);
                } else {
                    // Enter fullscreen
                    element.style.position = 'fixed';
                    element.style.top = '0';
                    element.style.left = '0';
                    element.style.width = '100vw';
                    element.style.height = '100vh';
                    element.style.zIndex = '999';
                    element.style.backgroundColor = 'white';
                    element.style.padding = '20px';
                    element.style.overflow = 'auto';
                    zoomDiagram(id, 1.5);
                }
            };

            window.downloadDiagram = function(id, element) {
                const svg = element.querySelector('svg');
                if (!svg) return;

                const svgData = new XMLSerializer().serializeToString(svg);
                const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
                const svgUrl = URL.createObjectURL(svgBlob);

                const downloadLink = document.createElement('a');
                downloadLink.href = svgUrl;
                downloadLink.download = `${id || 'diagram'}-${Date.now()}.svg`;
                downloadLink.click();

                URL.revokeObjectURL(svgUrl);
            };

            // Initialize everything
            waitForMermaid();

        })();
    </script>
</body>
</html>